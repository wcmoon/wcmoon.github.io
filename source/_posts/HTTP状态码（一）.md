---
title: HTTP状态码（一）
date: 2021-02-13 16:59:16
tags:
- http
categories:
- 前端
img: https://blog-cdn.wcmoon.com/http.jpg
---

## 301 和 302 有什么区别？
面试的时候经常会有这样的问题："状态码 301 和 302 有什么区别？"
网上可以找到最简洁的答案是，301 是暂时的重定向，302 是永久的重定向。
但是翻阅了 MDN 之后发现，事情绝对没有这么简单。事情还得从另外的几个状态码说起。

## 301 和 308
[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/308)

首先 301 和 308 都是永久重定向。所谓永久重定向，意味着请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个URI之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。

但是两者还是有区别的，尽管标准要求浏览器在收到该响应并进行重定向时不应该修改 http method 和 body，但是有一些浏览器可能会有问题。所以最好是在应对GET 或 HEAD 方法时使用301，其他情况使用308 来替代301。

## 302 和 307
[MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/302)

302、307 这一对和 301、308 一对的关系很像。首先，两者都是暂时重定向，表明请求的资源被暂时的移动到了由Location 头部指定的 URL 上。浏览器会重定向到这个URL， 但是搜索引擎不会对该资源的链接进行更新。

因为历史原因，不是所有的用户代理都会保证重定向不修改 http method 和 body，所以推荐仅在响应 GET 或 HEAD 方法时采用 302 状态码，而在其他时候使用 307 Temporary Redirect 来替代，因为在这些场景下方法变换是明确禁止的。

## 怎么选择状态码
一张图说明如下

![choose code](https://blog-cdn.wcmoon.com/3xx-code.png)

